<!DOCTYPE HTML><html lang=""><head><meta charset="UTF-8"><meta content="text/html; charset=utf-8"http-equiv="Content-Type"><title>C.1. Golang Echo Framework & Routing - Dasar Pemrograman Golang</title><meta content="IE=edge"http-equiv="X-UA-Compatible"/><meta content=""name="description"><meta content="GitBook 3.2.3"name="generator"><link href="gitbook/style.css"rel="stylesheet"><link href="gitbook/gitbook-plugin-disqus/plugin.css"rel="stylesheet"><link href="gitbook/gitbook-plugin-highlight/website.css"rel="stylesheet"><link href="gitbook/gitbook-plugin-search/search.css"rel="stylesheet"><link href="gitbook/gitbook-plugin-fontsettings/website.css"rel="stylesheet"><link href="styles/website.css"rel="stylesheet"><meta content="UZnxS2Dk3fm2_Elms3a__56Q_oQ3sQ1h0SVXXlHSmbE"name="google-site-verification"><meta content="https://dasarpemrogramangolang.novalagung.com/images/cover_fb_share.jpg"name="og:image"><meta content="https://dasarpemrogramangolang.novalagung.com/images/cover_fb_share.jpg"name="twitter:image"><meta content="true"name="HandheldFriendly"/><meta content="width=device-width,initial-scale=1,user-scalable=no"name="viewport"><meta content="yes"name="apple-mobile-web-app-capable"><meta content="black"name="apple-mobile-web-app-status-bar-style"><link href="gitbook/images/apple-touch-icon-precomposed-152.png"rel="apple-touch-icon-precomposed"sizes="152x152"><link href="gitbook/images/favicon.ico"rel="shortcut icon"type="image/x-icon"><link href="C-2-parsing-http-request-payload-echo.html"rel="next"/></head><body><div class="book"><div class="book-summary"><div role="search"id="book-search-input"><input placeholder="Type to search"type="text"/></div><nav role="navigation"><ul class="summary"><li class="chapter"data-level="1.1"data-path="./"><a href="./">Introduction</a></li><li class="chapter"data-level="1.2"><span>A. Pemrograman Golang Dasar</span><ul class="articles"><li class="chapter"data-level="1.2.1"data-path="1-berkenalan-dengan-golang.html"><a href="1-berkenalan-dengan-golang.html">A.1. Berkenalan Dengan Golang</a></li><li class="chapter"data-level="1.2.2"data-path="2-instalasi-golang.html"><a href="2-instalasi-golang.html">A.2. Instalasi Golang</a></li><li class="chapter"data-level="1.2.3"data-path="3-gopath-dan-workspace.html"><a href="3-gopath-dan-workspace.html">A.3. GOPATH Dan Workspace</a></li><li class="chapter"data-level="1.2.4"data-path="4-instalasi-editor.html"><a href="4-instalasi-editor.html">A.4. Instalasi Editor</a></li><li class="chapter"data-level="1.2.5"data-path="5-go-command.html"><a href="5-go-command.html">A.5. Command</a></li><li class="chapter"data-level="1.2.6"data-path="6-hello-world.html"><a href="6-hello-world.html">A.6. Program Pertama: Hello World</a></li><li class="chapter"data-level="1.2.7"data-path="7-komentar.html"><a href="7-komentar.html">A.7. Komentar</a></li><li class="chapter"data-level="1.2.8"data-path="8-variabel.html"><a href="8-variabel.html">A.8. Variabel</a></li><li class="chapter"data-level="1.2.9"data-path="9-tipe-data.html"><a href="9-tipe-data.html">A.9. Tipe Data</a></li><li class="chapter"data-level="1.2.10"data-path="10-konstanta.html"><a href="10-konstanta.html">A.10. Konstanta</a></li><li class="chapter"data-level="1.2.11"data-path="11-operator.html"><a href="11-operator.html">A.11. Operator</a></li><li class="chapter"data-level="1.2.12"data-path="12-seleksi-kondisi.html"><a href="12-seleksi-kondisi.html">A.12. Seleksi Kondisi</a></li><li class="chapter"data-level="1.2.13"data-path="13-perulangan.html"><a href="13-perulangan.html">A.13. Perulangan</a></li><li class="chapter"data-level="1.2.14"data-path="14-array.html"><a href="14-array.html">A.14. Array</a></li><li class="chapter"data-level="1.2.15"data-path="15-slice.html"><a href="15-slice.html">A.15. Slice</a></li><li class="chapter"data-level="1.2.16"data-path="16-map.html"><a href="16-map.html">A.16. Map</a></li><li class="chapter"data-level="1.2.17"data-path="17-fungsi.html"><a href="17-fungsi.html">A.17. Fungsi</a></li><li class="chapter"data-level="1.2.18"data-path="18-fungsi-multiple-return.html"><a href="18-fungsi-multiple-return.html">A.18. Fungsi Multiple Return</a></li><li class="chapter"data-level="1.2.19"data-path="19-fungsi-variadic.html"><a href="19-fungsi-variadic.html">A.19. Fungsi Variadic</a></li><li class="chapter"data-level="1.2.20"data-path="20-fungsi-closure.html"><a href="20-fungsi-closure.html">A.20. Fungsi Closure</a></li><li class="chapter"data-level="1.2.21"data-path="21-fungsi-sebagai-parameter.html"><a href="21-fungsi-sebagai-parameter.html">A.21. Fungsi Sebagai parameter</a></li><li class="chapter"data-level="1.2.22"data-path="22-pointer.html"><a href="22-pointer.html">A.22. Pointer</a></li><li class="chapter"data-level="1.2.23"data-path="23-struct.html"><a href="23-struct.html">A.23. Struct</a></li><li class="chapter"data-level="1.2.24"data-path="24-method.html"><a href="24-method.html">A.24. Method</a></li><li class="chapter"data-level="1.2.25"data-path="25-properti-public-dan-private.html"><a href="25-properti-public-dan-private.html">A.25. Property Public & Private</a></li><li class="chapter"data-level="1.2.26"data-path="26-interface.html"><a href="26-interface.html">A.26. Interface</a></li><li class="chapter"data-level="1.2.27"data-path="27-interface-kosong.html"><a href="27-interface-kosong.html">A.27. Interface Kosong</a></li><li class="chapter"data-level="1.2.28"data-path="28-reflect.html"><a href="28-reflect.html">A.28. Reflect</a></li><li class="chapter"data-level="1.2.29"data-path="29-goroutine.html"><a href="29-goroutine.html">A.29. Goroutine</a></li><li class="chapter"data-level="1.2.30"data-path="30-channel.html"><a href="30-channel.html">A.30. Channel</a></li><li class="chapter"data-level="1.2.31"data-path="31-buffered-channel.html"><a href="31-buffered-channel.html">A.31. Buffered Channel</a></li><li class="chapter"data-level="1.2.32"data-path="32-channel-select.html"><a href="32-channel-select.html">A.32. Channel - Select</a></li><li class="chapter"data-level="1.2.33"data-path="33-channel-range-close.html"><a href="33-channel-range-close.html">A.33. Channel - Range & Close</a></li><li class="chapter"data-level="1.2.34"data-path="34-channel-timeout.html"><a href="34-channel-timeout.html">A.34. Channel - Timeout</a></li><li class="chapter"data-level="1.2.35"data-path="35-defer-exit.html"><a href="35-defer-exit.html">A.35. Defer & Exit</a></li><li class="chapter"data-level="1.2.36"data-path="36-error-panic-recover.html"><a href="36-error-panic-recover.html">A.36. Error, Panic, & Recover</a></li><li class="chapter"data-level="1.2.37"data-path="37-string-format.html"><a href="37-string-format.html">A.37. Layout Format String</a></li><li class="chapter"data-level="1.2.38"data-path="38-time.html"><a href="38-time.html">A.38. Time, Parsing Time, & Format Time</a></li><li class="chapter"data-level="1.2.39"data-path="39-timer.html"><a href="39-timer.html">A.39. Timer</a></li><li class="chapter"data-level="1.2.40"data-path="40-data-type-conversion.html"><a href="40-data-type-conversion.html">A.40. Konversi Antar Tipe Data</a></li><li class="chapter"data-level="1.2.41"data-path="41-strings.html"><a href="41-strings.html">A.41. Fungsi String</a></li><li class="chapter"data-level="1.2.42"data-path="42-regex.html"><a href="42-regex.html">A.42. Regex</a></li><li class="chapter"data-level="1.2.43"data-path="43-encoding-base64.html"><a href="43-encoding-base64.html">A.43. Encode - Decode Base64</a></li><li class="chapter"data-level="1.2.44"data-path="44-hash-sha1.html"><a href="44-hash-sha1.html">A.44. Hash Sha1</a></li><li class="chapter"data-level="1.2.45"data-path="45-command-line-args-flag.html"><a href="45-command-line-args-flag.html">A.45. Arguments & Flag</a></li><li class="chapter"data-level="1.2.46"data-path="46-exec.html"><a href="46-exec.html">A.46. Exec</a></li><li class="chapter"data-level="1.2.47"data-path="47-file.html"><a href="47-file.html">A.47. File</a></li><li class="chapter"data-level="1.2.48"data-path="48-web.html"><a href="48-web.html">A.48. Web</a></li><li class="chapter"data-level="1.2.49"data-path="49-url-parsing.html"><a href="49-url-parsing.html">A.49. URL Parsing</a></li><li class="chapter"data-level="1.2.50"data-path="50-json.html"><a href="50-json.html">A.50. JSON</a></li><li class="chapter"data-level="1.2.51"data-path="51-web-json-api.html"><a href="51-web-json-api.html">A.51. Web JSON API</a></li><li class="chapter"data-level="1.2.52"data-path="52-http-request.html"><a href="52-http-request.html">A.52. HTTP Request</a></li><li class="chapter"data-level="1.2.53"data-path="53-sql.html"><a href="53-sql.html">A.53. SQL</a></li><li class="chapter"data-level="1.2.54"data-path="54-mongodb.html"><a href="54-mongodb.html">A.54. NoSQL MongoDB</a></li><li class="chapter"data-level="1.2.55"data-path="55-unit-test.html"><a href="55-unit-test.html">A.55. Unit Test</a></li><li class="chapter"data-level="1.2.56"data-path="56-waitgroup.html"><a href="56-waitgroup.html">A.56. WaitGroup</a></li><li class="chapter"data-level="1.2.57"data-path="57-mutex.html"><a href="57-mutex.html">A.57. Mutex</a></li><li class="chapter"data-level="1.2.58"data-path="A-58-go-vendoring.html"><a href="A-58-go-vendoring.html">A.58. Go Vendoring</a></li><li class="chapter"data-level="1.2.59"data-path="A-59-go-dep.html"><a href="A-59-go-dep.html">A.59. Dep - Go Dependency Management Tool</a></li><li class="chapter"data-level="1.2.60"data-path="A-60-go-modules.html"><a href="A-60-go-modules.html">A.60. Go Modules</a></li></ul></li><li class="chapter"data-level="1.3"><span>B. Pemrograman Web Golang Dasar</span><ul class="articles"><li class="chapter"data-level="1.3.1"data-path="B-1-golang-web-hello-world.html"><a href="B-1-golang-web-hello-world.html">B.1. Golang Web App: Hello World</a></li><li class="chapter"data-level="1.3.2"data-path="B-2-routing-http-handlefunc.html"><a href="B-2-routing-http-handlefunc.html">B.2. Routing http.HandleFunc</a></li><li class="chapter"data-level="1.3.3"data-path="B-3-routing-static-assets.html"><a href="B-3-routing-static-assets.html">B.3. Routing Static Assets</a></li><li class="chapter"data-level="1.3.4"data-path="B-4-template-render-html.html"><a href="B-4-template-render-html.html">B.4. Template: Render HTML Template</a></li><li class="chapter"data-level="1.3.5"data-path="B-5-template-render-partial-html.html"><a href="B-5-template-render-partial-html.html">B.5. Template: Render Partial HTML Template</a></li><li class="chapter"data-level="1.3.6"data-path="B-6-template-actions-variables.html"><a href="B-6-template-actions-variables.html">B.6. Template: Actions & Variables</a></li><li class="chapter"data-level="1.3.7"data-path="B-7-template-functions.html"><a href="B-7-template-functions.html">B.7. Template: Functions</a></li><li class="chapter"data-level="1.3.8"data-path="B-8-template-custom-functions.html"><a href="B-8-template-custom-functions.html">B.8. Template: Custom Functions</a></li><li class="chapter"data-level="1.3.9"data-path="B-9-render-specific-html-template.html"><a href="B-9-render-specific-html-template.html">B.9. Template: Render Specific HTML Template</a></li><li class="chapter"data-level="1.3.10"data-path="B-10-render-html-string.html"><a href="B-10-render-html-string.html">B.10. Template: Render HTML String</a></li><li class="chapter"data-level="1.3.11"data-path="B-11-http-method.html"><a href="B-11-http-method.html">B.11. HTTP Method: POST & GET</a></li><li class="chapter"data-level="1.3.12"data-path="B-12-form-value.html"><a href="B-12-form-value.html">B.12. Form Value</a></li><li class="chapter"data-level="1.3.13"data-path="B-13-form-upload-file.html"><a href="B-13-form-upload-file.html">B.13. Form Upload File</a></li><li class="chapter"data-level="1.3.14"data-path="B-14-ajax-json-payload.html"><a href="B-14-ajax-json-payload.html">B.14. AJAX JSON Payload</a></li><li class="chapter"data-level="1.3.15"data-path="B-15-ajax-json-response.html"><a href="B-15-ajax-json-response.html">B.15. AJAX JSON Response</a></li><li class="chapter"data-level="1.3.16"data-path="B-16-ajax-multi-upload.html"><a href="B-16-ajax-multi-upload.html">B.16. AJAX Multiple File Upload</a></li><li class="chapter"data-level="1.3.17"data-path="B-17-download-file.html"><a href="B-17-download-file.html">B.17. Download File</a></li><li class="chapter"data-level="1.3.18"data-path="B-18-http-basic-auth.html"><a href="B-18-http-basic-auth.html">B.18. HTTP Basic Auth</a></li><li class="chapter"data-level="1.3.19"data-path="B-19-middleware-using-http-handler.html"><a href="B-19-middleware-using-http-handler.html">B.19. Middleware http.Handler</a></li><li class="chapter"data-level="1.3.20"data-path="B-20-custom-mux-multiplexer.html"><a href="B-20-custom-mux-multiplexer.html">B.20. Custom Multiplexer</a></li><li class="chapter"data-level="1.3.21"data-path="B-21-cookie.html"><a href="B-21-cookie.html">B.21. HTTP Cookie</a></li><li class="chapter"data-level="1.3.22"data-path="B-22-configuration-file.html"><a href="B-22-configuration-file.html">B.22. Configuration File</a></li></ul></li><li class="chapter"data-level="1.4"><span>C. Pemrograman Web Golang Lanjut</span><ul class="articles"><li class="chapter active"data-level="1.4.1"data-path="C-1-echo-routing.html"><a href="C-1-echo-routing.html">C.1. Echo Framework & Routing</a></li><li class="chapter"data-level="1.4.2"data-path="C-2-parsing-http-request-payload-echo.html"><a href="C-2-parsing-http-request-payload-echo.html">C.2. Parsing HTTP Request Payload (Echo)</a></li><li class="chapter"data-level="1.4.3"data-path="C-3-http-request-payload-validation.html"><a href="C-3-http-request-payload-validation.html">C.3. HTTP Request Payload Validation (Validator v9, Echo)</a></li><li class="chapter"data-level="1.4.4"data-path="C-4-http-error-handling.html"><a href="C-4-http-error-handling.html">C.4. HTTP Error Handling (Validator v9, Echo)</a></li><li class="chapter"data-level="1.4.5"data-path="C-5-echo-template-rendering.html"><a href="C-5-echo-template-rendering.html">C.5. Template Rendering in Echo</a></li><li class="chapter"data-level="1.4.6"data-path="C-6-advanced-middleware-and-logging.html"><a href="C-6-advanced-middleware-and-logging.html">C.6. Advanced Middleware & Logging (Logrus, Echo Logger)</a></li><li class="chapter"data-level="1.4.7"data-path="C-7-flag-parser.html"><a href="C-7-flag-parser.html">C.7. CLI Flag Parser (Kingpin)</a></li><li class="chapter"data-level="1.4.8"data-path="C-8-advanced-configuration-file.html"><a href="C-8-advanced-configuration-file.html">C.8. Advanced Configuration File (Viper)</a></li><li class="chapter"data-level="1.4.9"data-path="C-9-securecookie.html"><a href="C-9-securecookie.html">C.9. Secure Cookie (Gorilla Securecookie)</a></li><li class="chapter"data-level="1.4.10"data-path="C-10-session.html"><a href="C-10-session.html">C.10. Session (Gorilla Session)</a></li><li class="chapter"data-level="1.4.11"data-path="C-12-cors-preflight-request.html"><a href="C-12-cors-preflight-request.html">C.12. CORS & Preflight Request</a></li><li class="chapter"data-level="1.4.12"data-path="C-13-csrf.html"><a href="C-13-csrf.html">C.13. CSRF</a></li><li class="chapter"data-level="1.4.13"data-path="C-14-secure-middleware.html"><a href="C-14-secure-middleware.html">C.14. Secure Middleware</a></li><li class="chapter"data-level="1.4.14"data-path="C-15-http-gzip-compression.html"><a href="C-15-http-gzip-compression.html">C.15. HTTP Gzip Compression (gziphandler)</a></li><li class="chapter"data-level="1.4.15"data-path="C-16-send-email.html"><a href="C-16-send-email.html">C.16. Send Mail (net/smtp, Gomail v2)</a></li><li class="chapter"data-level="1.4.16"data-path="C-17-read-write-excel-xlsx-file.html"><a href="C-17-read-write-excel-xlsx-file.html">C.17. Read & Write Excel XLSX File (Excelize)</a></li><li class="chapter"data-level="1.4.17"data-path="C-18-write-pdf-file.html"><a href="C-18-write-pdf-file.html">C.18. Write PDF File (gofpdf)</a></li><li class="chapter"data-level="1.4.18"data-path="C-19-convert-html-to-pdf.html"><a href="C-19-convert-html-to-pdf.html">C.19. Convert HTML to PDF (go-wkhtmltopdf)</a></li><li class="chapter"data-level="1.4.19"data-path="C-20-scraping-parsing-html.html"><a href="C-20-scraping-parsing-html.html">C.20. Scraping & Parsing HTML (goquery)</a></li><li class="chapter"data-level="1.4.20"data-path="C-21-xml-parser.html"><a href="C-21-xml-parser.html">C.21. Parse & Generate XML (etree)</a></li><li class="chapter"data-level="1.4.21"data-path="C-22-https-tls.html"><a href="C-22-https-tls.html">C.22. HTTPS/TLS Web Server</a></li><li class="chapter"data-level="1.4.22"data-path="C-23-http2-server-push.html"><a href="C-23-http2-server-push.html">C.23. HTTP/2 & HTTP/2 Server Push</a></li><li class="chapter"data-level="1.4.23"data-path="C-24-client-http-request.html"><a href="C-24-client-http-request.html">C.24. Client HTTP Request</a></li><li class="chapter"data-level="1.4.24"data-path="C-25-secure-insecure-client-http-request.html"><a href="C-25-secure-insecure-client-http-request.html">C.25. Secure & Insecure Client HTTP Request</a></li><li class="chapter"data-level="1.4.25"data-path="C-26-golang-ftp.html"><a href="C-26-golang-ftp.html">C.26. FTP</a></li><li class="chapter"data-level="1.4.26"data-path="C-27-golang-ssh-sftp.html"><a href="C-27-golang-ssh-sftp.html">C.27. SSH & SFTP</a></li><li class="chapter"data-level="1.4.27"data-path="C-28-golang-web-socket.html"><a href="C-28-golang-web-socket.html">C.28. Web Socket: Chatting App</a></li><li class="chapter"data-level="1.4.28"data-path="C-29-golang-protobuf-implementation.html"><a href="C-29-golang-protobuf-implementation.html">C.29. Protobuf</a></li><li class="chapter"data-level="1.4.29"data-path="C-30-golang-grpc-protobuf.html"><a href="C-30-golang-grpc-protobuf.html">C.30. gRPC + Protobuf</a></li><li class="chapter"data-level="1.4.30"data-path="C-31-golang-context.html"><a href="C-31-golang-context.html">C.31. Context: Value, Timeout, & Cancellation</a></li><li class="chapter"data-level="1.4.31"data-path="C-32-golang-jwt.html"><a href="C-32-golang-jwt.html">C.32. JSON Web Token (JWT)</a></li></ul></li><li><a href="https://www.gitbook.com"target="blank"class="gitbook-link">Published with GitBook</a></li></ul></nav></div><div class="book-body"><div class="body-inner"><div class="book-header"role="navigation"><h1><a href=".">C.1. Echo Framework & Routing</a></h1></div><div class="page-wrapper"role="main"tabindex="-1"><div class="page-inner"><div id="book-search-results"><div class="search-noresults"><section class="markdown-section normal"><h1 id="c1-echo-framework--routing">C.1. Echo Framework &amp; Routing</h1><p>Pada bab ini kita akan belajar cara mudah routing menggunakan <a href="https://echo.labstack.com/"target="_blank">Echo Framework</a>.</p><p>Mulai bab B1 hingga B6 kita akan mempelajari banyak aspek dalam framework Echo dan mengkobinasikannya dengan beberapa library lain.</p><h1 id="c11-echo-framework">C.1.1 Echo Framework</h1><p>Echo adalah framework bahasa golang untuk pengembangan aplikasi web. Framework ini cukup terkenal di komunitas. Echo merupakan framework besar, didalamnya terdapat banyak sekali dependensi.</p><p>Salah satu dependensi yang ada didalamnya adalah router, dan pada bab ini kita akan mempelajarinya.</p><p>Dari banyak routing library yang sudah penulis gunakan, hampir kesemuanya mempunyai kemiripan dalam hal penggunaannya, cukup panggil fungsi/method yang dipilih (biasanya namanya sama dengan HTTP Method), lalu sisipkan rute pada parameter pertama dan handler pada parameter kedua.</p><p>Berikut contoh sederhana penggunaan echo framework.</p><pre><code class="lang-go">r := echo.New()
r.GET(<span class="hljs-string">&quot;/&quot;</span>, handler)
r.Start(<span class="hljs-string">&quot;:9000&quot;</span>)
</code></pre><p>Sebuah objek router <code>r</code> dicetak lewat <code>echo.New()</code>. Lalu lewat objek router tersebut, dilakukan registrasi rute untuk <code>/</code> dengan method GET dan handler adalah closure <code>handler</code>. Terakhir, dari objek router di-start-lah sebuah web server pada port 9000.</p><blockquote><p>Echo router mengadopsi konsep <a href="https://en.wikipedia.org/wiki/Radix_tree"target="_blank">radix tree</a>, membuat performa lookup nya begitu cepat. Tak juga itu, pemanfaatan sync pool membuat penggunaan memory lebih hemat, dan aman dari GC overhead.</p></blockquote><h2 id="c12-praktek">C.1.2. Praktek</h2><p>Mari kita pelajari lebih lanjut dengan praktek langsung. Buat folder proyek baru, buat <code>main.go</code>, isi dengan kode berikut, kemudian jalankan aplikasi.</p><pre><code class="lang-go"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> (
    <span class="hljs-string">&quot;fmt&quot;</span>
    <span class="hljs-string">&quot;github.com/labstack/echo&quot;</span>
    <span class="hljs-string">&quot;net/http&quot;</span>
    <span class="hljs-string">&quot;strings&quot;</span>
)

<span class="hljs-keyword">type</span> M <span class="hljs-keyword">map</span>[<span class="hljs-keyword">string</span>]<span class="hljs-keyword">interface</span>{}

<span class="hljs-keyword">func</span> main() {
    r := echo.New()

    r.GET(<span class="hljs-string">&quot;/&quot;</span>, <span class="hljs-keyword">func</span>(ctx echo.Context) error {
        data := <span class="hljs-string">&quot;Hello from /index&quot;</span>
        <span class="hljs-keyword">return</span> ctx.String(http.StatusOK, data)
    })

    r.Start(<span class="hljs-string">&quot;:9000&quot;</span>)
}
</code></pre><p>Kode di atas adalah contoh sederhana penerapan echo router.</p><p><img alt="Preview"src="images/C.1_1_routing_slash_test.png"></p><p>Routing dengan memanfaatkan package <code>net/http</code> dalam penerapannya adalah menggunakan <code>http.HandleFunc()</code> atau <code>http.Handle()</code>. Berbeda dengan Echo, routingnya adalah method-based, tidak hanya endpoint dan handler yang di-registrasi, method juga.</p><p>Statement <code>echo.New()</code> mengembalikan objek mux/router. Pada kode di atas rute <code>/</code> dengan method <code>GET</code> di-daftarkan. Selain <code>r.GET()</code> ada banyak lagi method lainnya, semua method dalam <a href="https://en.wikipedia.org/wiki/Representational_state_transfer"target="_blank">spesifikasi REST</a> seperti PUT, POST, dan lainnya bisa digunakan.</p><p>Handler dari method routing milik echo membutuhkan satu argument saja, dengan tipe adalah <code>echo.Context</code>. Dari argumen tersebut objek <code>http.ResponseWriter</code> dan <code>http.Request</code> bisa di-akses. Namun kedua objek tersebut akan jarang kita gunakan karena <code>echo.Context</code> memiliki banyak method yang beberapa tugasnya sudah meng-cover operasi umum yang biasanya kita lakukan lewat objek request dan response, diantara seperti:</p><ul><li>Render output (dalam bentuk html, plain text, json, atau lainnya).</li><li>Parsing request data (json payload, form data, query string).</li><li>URL Redirection.</li><li>... dan lainnya.</li></ul><blockquote><p>Untuk mengakses objek <code>http.Request</code> gunakan <code>ctx.Request()</code>.<br>Sedang untuk objek <code>http.ResponseWriter</code> gunakan <code>ctx.Response()</code>.</p></blockquote><p>Salah satu alasan lain kenapa penulis memilih framework ini, adalah karena desain route-handler-nya menarik. Dalam handler cukup kembalikan objek error ketika memang ada kesalahan terjadi, sedangkan jika tidak ada error maka kembalikan nilai <code>nil</code>.</p><p>Ketika terjadi error pada saat mengakses endpoint, idealnya <a href="https://en.wikipedia.org/wiki/List_of_HTTP_status_codes"target="_blank">HTTP Status</a> error dikembalikan sesuai dengan jenis errornya. Tapi terkadang juga ada kebutuhan dalam kondisi tertentu <code>http.StatusOK</code> atau status 200 dikembalikan dengan disisipi informasi error dalam response body-nya. Kasus sejenis ini menjadikan standar error reporting menjadi kurang bagus. Pada konteks ini echo unggul menurut penulis, karena default-nya semua error dikembalikan sebagai response dalam bentuk yang sama.</p><p>Method <code>ctx.String()</code> dari objek context milik handler digunakan untuk mempermudah rendering data string sebagai output. Method ini mengembalikan objek error, jadi bisa digunakan langsung sebagai nilai balik handler. Argumen pertama adalah http status dan argumen ke-2 adalah data yang dijadikan output.</p><h2 id="c13-response-method-milik-ctx">C.1.3. Response Method milik <code>ctx</code></h2><p>Selain <code>ctx.String()</code> ada banyak method sejenis lainnya, berikut selengkapnya.</p><h4 id="method-string">&#x2022; Method <code>.String()</code></h4><p>Digunakan untuk render plain text sebagai output (isi response header <code>Content-Type</code> adalah <code>text/plain</code>). Method ini tugasnya sama dengan method <code>.Write()</code> milik objek <code>http.ResponseWriter</code>.</p><pre><code class="lang-go">r.GET(<span class="hljs-string">&quot;/index&quot;</span>, <span class="hljs-keyword">func</span>(ctx echo.Context) error {
    data := <span class="hljs-string">&quot;Hello from /index&quot;</span>
    <span class="hljs-keyword">return</span> ctx.String(http.StatusOK, data)
})
</code></pre><h4 id="method-html">&#x2022; Method <code>.HTML()</code></h4><p>Digunakan untuk render html sebagai output. Isi response header <code>Content-Type</code> adalah <code>text/html</code>.</p><pre><code class="lang-go">r.GET(<span class="hljs-string">&quot;/html&quot;</span>, <span class="hljs-keyword">func</span>(ctx echo.Context) error {
    data := <span class="hljs-string">&quot;Hello from /html&quot;</span>
    <span class="hljs-keyword">return</span> ctx.HTML(http.StatusOK, data)
})
</code></pre><h4 id="method-redirect">&#x2022; Method <code>.Redirect()</code></h4><p>Digunakan untuk redirect, pengganti <code>http.Redirect()</code>.</p><pre><code class="lang-go">r.GET(<span class="hljs-string">&quot;/index&quot;</span>, <span class="hljs-keyword">func</span>(ctx echo.Context) error {
    <span class="hljs-keyword">return</span> ctx.Redirect(http.StatusTemporaryRedirect, <span class="hljs-string">&quot;/&quot;</span>)
})
</code></pre><h4 id="method-json">&#x2022; Method <code>.JSON()</code></h4><p>Digunakan untuk render data JSON sebagai output. Isi response header <code>Content-Type</code> adalah <code>application/json</code>.</p><pre><code class="lang-go">r.GET(<span class="hljs-string">&quot;/json&quot;</span>, <span class="hljs-keyword">func</span>(ctx echo.Context) error {
    data := M{<span class="hljs-string">&quot;Message&quot;</span>: <span class="hljs-string">&quot;Hello&quot;</span>, <span class="hljs-string">&quot;Counter&quot;</span>: <span class="hljs-number">2</span>}
    <span class="hljs-keyword">return</span> ctx.JSON(http.StatusOK, data)
})
</code></pre><h2 id="c14-parsing-request">C.1.4. Parsing Request</h2><p>Echo juga menyediakan beberapa method untuk keperluan parsing request, diantaranya:</p><h4 id="parsing-query-string">&#x2022; Parsing Query String</h4><p>Method <code>.QueryParam()</code> digunakan untuk mengambil data pada query string request, sesuai dengan key yang diinginkan.</p><pre><code class="lang-go">r.GET(<span class="hljs-string">&quot;/page1&quot;</span>, <span class="hljs-keyword">func</span>(ctx echo.Context) error {
    name := ctx.QueryParam(<span class="hljs-string">&quot;name&quot;</span>)
    data := fmt.Sprintf(<span class="hljs-string">&quot;Hello %s&quot;</span>, name)

    <span class="hljs-keyword">return</span> ctx.String(http.StatusOK, data)
})
</code></pre><p>Test menggunakan curl:</p><pre><code class="lang-bash">curl -X GET http://localhost:9000/page1?name=grayson
</code></pre><h4 id="parsing-url-path-param">&#x2022; Parsing URL Path Param</h4><p>Method <code>.Param()</code> digunakan untuk mengambil data path parameter sesuai skema rute.</p><pre><code class="lang-go">r.GET(<span class="hljs-string">&quot;/page2/:name&quot;</span>, <span class="hljs-keyword">func</span>(ctx echo.Context) error {
    name := ctx.Param(<span class="hljs-string">&quot;name&quot;</span>)
    data := fmt.Sprintf(<span class="hljs-string">&quot;Hello %s&quot;</span>, name)

    <span class="hljs-keyword">return</span> ctx.String(http.StatusOK, data)
})
</code></pre><p>Bisa dilihat, terdapat <code>:name</code> pada pendeklarasian rute. Nantinya url apapun yang ditulis sesuai skema di-atas akan bisa diambil path parameter-nya. Misalkan <code>/page2/halo</code> maka <code>ctx.Param(&quot;name&quot;)</code> mengembalikan string <code>halo</code>.</p><p>Test menggunakan curl:</p><pre><code class="lang-bash">curl -X GET http://localhost:9000/page2/grayson
</code></pre><h4 id="parsing-url-path-param-dan-setelahnya">&#x2022; Parsing URL Path Param dan Setelahnya</h4><p>Selain mengambil parameter sesuai spesifik path, kita juga bisa mengambil data <strong>parameter path dan setelahnya</strong>.</p><pre><code class="lang-go">r.GET(<span class="hljs-string">&quot;/page3/:name/*&quot;</span>, <span class="hljs-keyword">func</span>(ctx echo.Context) error {
    name := ctx.Param(<span class="hljs-string">&quot;name&quot;</span>)
    message := ctx.Param(<span class="hljs-string">&quot;*&quot;</span>)

    data := fmt.Sprintf(<span class="hljs-string">&quot;Hello %s, I have message for you: %s&quot;</span>, name, message)

    <span class="hljs-keyword">return</span> ctx.String(http.StatusOK, data)
})
</code></pre><p>Statement <code>ctx.Param(&quot;*&quot;)</code> mengembalikan semua path sesuai dengan skema url-nya. Misal url adalah <code>/page3/tim/a/b/c/d/e/f/g/h</code> maka yang dikembalikan adalah <code>a/b/c/d/e/f/g/h</code>.</p><p>Test menggunakan curl:</p><pre><code class="lang-bash">curl -X GET http://localhost:9000/page3/tim/need/some/sleep
</code></pre><h4 id="parsing-form-data">&#x2022; Parsing Form Data</h4><p>Data yang dikirim sebagai request body dengan jenis adalah Form Data bisa di-ambil dengan mudah menggunakan <code>ctx.FormValue()</code>.</p><pre><code class="lang-go">r.POST(<span class="hljs-string">&quot;/page4&quot;</span>, <span class="hljs-keyword">func</span>(ctx echo.Context) error {
    name := ctx.FormValue(<span class="hljs-string">&quot;name&quot;</span>)
    message := ctx.FormValue(<span class="hljs-string">&quot;message&quot;</span>)

    data := fmt.Sprintf(
        <span class="hljs-string">&quot;Hello %s, I have message for you: %s&quot;</span>,
        name,
        strings.Replace(message, <span class="hljs-string">&quot;/&quot;</span>, <span class="hljs-string">&quot;&quot;</span>, <span class="hljs-number">1</span>),
    )

    <span class="hljs-keyword">return</span> ctx.String(http.StatusOK, data)
})
</code></pre><p>Test menggunakan curl:</p><pre><code class="lang-bash">curl -X POST -F name=damian -F message=angry http://localhost:9000/page4
</code></pre><p>Pada bab selanjutnya kita akan belajar teknik parsing request data yang lebih advance.</p><h2 id="c15-penggunaan-echowraphandler-untuk-routing-handler-bertipe-funchttpresponsewriterhttprequest-atau-httphandlerfunc">C.1.5. Penggunaan <code>echo.WrapHandler</code> Untuk Routing Handler Bertipe <code>func(http.ResponseWriter,*http.Request)</code> atau <code>http.HandlerFunc</code></h2><p>Echo bisa dikombinasikan dengan handler ber-skema <em>NON-echo-handler</em> seperti <code>func(http.ResponseWriter,*http.Request)</code> atau <code>http.HandlerFunc</code>.</p><p>Caranya dengan memanfaatkan fungsi <code>echo.WrapHandler</code> untuk mengkonversi handler tersebut menjadi echo-compatible. Lebih jelasnya silakan lihat kode berikut.</p><pre><code class="lang-go"><span class="hljs-keyword">var</span> ActionIndex = <span class="hljs-keyword">func</span>(w http.ResponseWriter, r *http.Request) {
    w.Write([]<span class="hljs-keyword">byte</span>(<span class="hljs-string">&quot;from action index&quot;</span>))
}

<span class="hljs-keyword">var</span> ActionHome = http.HandlerFunc(
    <span class="hljs-keyword">func</span>(w http.ResponseWriter, r *http.Request) {
        w.Write([]<span class="hljs-keyword">byte</span>(<span class="hljs-string">&quot;from action home&quot;</span>))
    },
)

<span class="hljs-keyword">var</span> ActionAbout = echo.WrapHandler(
    http.HandlerFunc(
        <span class="hljs-keyword">func</span>(w http.ResponseWriter, r *http.Request) {
            w.Write([]<span class="hljs-keyword">byte</span>(<span class="hljs-string">&quot;from action about&quot;</span>))
        },
    ),
)

<span class="hljs-keyword">func</span> main() {
    r := echo.New()

    r.GET(<span class="hljs-string">&quot;/index&quot;</span>, echo.WrapHandler(http.HandlerFunc(ActionIndex)))
    r.GET(<span class="hljs-string">&quot;/home&quot;</span>, echo.WrapHandler(ActionHome))
    r.GET(<span class="hljs-string">&quot;/about&quot;</span>, ActionAbout)

    r.Start(<span class="hljs-string">&quot;:9000&quot;</span>)
}
</code></pre><p>Untuk routing handler dengan skema <code>func(http.ResponseWriter,*http.Request)</code>, maka harus dibungkus dua kali, pertama menggunakan <code>http.HandlerFunc</code>, lalu dengan <code>echo.WrapHandler</code>.</p><p>Sedangkan untuk handler yang sudah bertipe <code>http.HandlerFunc</code>, bungkus langsung menggunakan <code>echo.WrapHandler</code>.</p><h2 id="c16-routing-static-assets">C.1.6. Routing Static Assets</h2><p>Cara routing static assets di echo sangatlah mudah. Gunakan method <code>.Static()</code>, isi parameter pertama dengan prefix rute yang di-inginkan, dan parameter ke-2 dengan path folder tujuan.</p><p>Buat sub folder dengan nama <code>assets</code> dalam folder projek. Dalam folder tersebut buat sebuah file <code>layout.js</code>, isinya bebas.</p><p>Pada <code>main.go</code> tambahkan routing static yang mengarah ke path folder <code>assets</code>.</p><pre><code class="lang-go">r.Static(<span class="hljs-string">&quot;/static&quot;</span>, <span class="hljs-string">&quot;assets&quot;</span>)
</code></pre><p>Jalankan aplikasi, lalu coba akses <code>http://localhost:9000/static/layout.js</code>.</p><p><img alt="Routing static assets"src="images/C.1_2_routing_static_assets.png"></p><hr><ul><li><a href="https://github.com/labstack/echo"target="_blank">Echo</a>, by Vishal Rana (Lab Stack), MIT license</li></ul></section></div><div class="search-results"><div class="has-results"><h1 class="search-results-title">results matching ""</h1></div><div class="no-results"><h1 class="search-results-title">No results matching ""</h1></div></div></div></div></div></div><a href="C-2-parsing-http-request-payload-echo.html"class="navigation navigation-next navigation-unique"aria-label="Next page: C.2. Parsing HTTP Request Payload (Echo)"></a></div><script>var gitbook=gitbook||[];gitbook.push(function(){gitbook.page.hasChanged({page:{title:"C.1. Echo Framework & Routing",level:"1.4.1",depth:2,next:{title:"C.2. Parsing HTTP Request Payload (Echo)",level:"1.4.2",depth:2,path:"C-2-parsing-http-request-payload-echo.md",ref:"C-2-parsing-http-request-payload-echo.md",articles:[]},previous:{title:"C. Pemrograman Web Golang Lanjut",level:"1.4",depth:1,ref:"",articles:[{title:"C.1. Echo Framework & Routing",level:"1.4.1",depth:2,path:"C-1-echo-routing.md",ref:"C-1-echo-routing.md",articles:[]},{title:"C.2. Parsing HTTP Request Payload (Echo)",level:"1.4.2",depth:2,path:"C-2-parsing-http-request-payload-echo.md",ref:"C-2-parsing-http-request-payload-echo.md",articles:[]},{title:"C.3. HTTP Request Payload Validation (Validator v9, Echo)",level:"1.4.3",depth:2,path:"C-3-http-request-payload-validation.md",ref:"C-3-http-request-payload-validation.md",articles:[]},{title:"C.4. HTTP Error Handling (Validator v9, Echo)",level:"1.4.4",depth:2,path:"C-4-http-error-handling.md",ref:"C-4-http-error-handling.md",articles:[]},{title:"C.5. Template Rendering in Echo",level:"1.4.5",depth:2,path:"C-5-echo-template-rendering.md",ref:"C-5-echo-template-rendering.md",articles:[]},{title:"C.6. Advanced Middleware & Logging (Logrus, Echo Logger)",level:"1.4.6",depth:2,path:"C-6-advanced-middleware-and-logging.md",ref:"C-6-advanced-middleware-and-logging.md",articles:[]},{title:"C.7. CLI Flag Parser (Kingpin)",level:"1.4.7",depth:2,path:"C-7-flag-parser.md",ref:"C-7-flag-parser.md",articles:[]},{title:"C.8. Advanced Configuration File (Viper)",level:"1.4.8",depth:2,path:"C-8-advanced-configuration-file.md",ref:"C-8-advanced-configuration-file.md",articles:[]},{title:"C.9. Secure Cookie (Gorilla Securecookie)",level:"1.4.9",depth:2,path:"C-9-securecookie.md",ref:"C-9-securecookie.md",articles:[]},{title:"C.10. Session (Gorilla Session)",level:"1.4.10",depth:2,path:"C-10-session.md",ref:"C-10-session.md",articles:[]},{title:"C.12. CORS & Preflight Request",level:"1.4.11",depth:2,path:"C-12-cors-preflight-request.md",ref:"C-12-cors-preflight-request.md",articles:[]},{title:"C.13. CSRF",level:"1.4.12",depth:2,path:"C-13-csrf.md",ref:"C-13-csrf.md",articles:[]},{title:"C.14. Secure Middleware",level:"1.4.13",depth:2,path:"C-14-secure-middleware.md",ref:"C-14-secure-middleware.md",articles:[]},{title:"C.15. HTTP Gzip Compression (gziphandler)",level:"1.4.14",depth:2,path:"C-15-http-gzip-compression.md",ref:"C-15-http-gzip-compression.md",articles:[]},{title:"C.16. Send Mail (net/smtp, Gomail v2)",level:"1.4.15",depth:2,path:"C-16-send-email.md",ref:"C-16-send-email.md",articles:[]},{title:"C.17. Read & Write Excel XLSX File (Excelize)",level:"1.4.16",depth:2,path:"C-17-read-write-excel-xlsx-file.md",ref:"C-17-read-write-excel-xlsx-file.md",articles:[]},{title:"C.18. Write PDF File (gofpdf)",level:"1.4.17",depth:2,path:"C-18-write-pdf-file.md",ref:"C-18-write-pdf-file.md",articles:[]},{title:"C.19. Convert HTML to PDF (go-wkhtmltopdf)",level:"1.4.18",depth:2,path:"C-19-convert-html-to-pdf.md",ref:"C-19-convert-html-to-pdf.md",articles:[]},{title:"C.20. Scraping & Parsing HTML (goquery)",level:"1.4.19",depth:2,path:"C-20-scraping-parsing-html.md",ref:"C-20-scraping-parsing-html.md",articles:[]},{title:"C.21. Parse & Generate XML (etree)",level:"1.4.20",depth:2,path:"C-21-xml-parser.md",ref:"C-21-xml-parser.md",articles:[]},{title:"C.22. HTTPS/TLS Web Server",level:"1.4.21",depth:2,path:"C-22-https-tls.md",ref:"C-22-https-tls.md",articles:[]},{title:"C.23. HTTP/2 & HTTP/2 Server Push",level:"1.4.22",depth:2,path:"C-23-http2-server-push.md",ref:"C-23-http2-server-push.md",articles:[]},{title:"C.24. Client HTTP Request",level:"1.4.23",depth:2,path:"C-24-client-http-request.md",ref:"C-24-client-http-request.md",articles:[]},{title:"C.25. Secure & Insecure Client HTTP Request",level:"1.4.24",depth:2,path:"C-25-secure-insecure-client-http-request.md",ref:"C-25-secure-insecure-client-http-request.md",articles:[]},{title:"C.26. FTP",level:"1.4.25",depth:2,path:"C-26-golang-ftp.md",ref:"C-26-golang-ftp.md",articles:[]},{title:"C.27. SSH & SFTP",level:"1.4.26",depth:2,path:"C-27-golang-ssh-sftp.md",ref:"C-27-golang-ssh-sftp.md",articles:[]},{title:"C.28. Web Socket: Chatting App",level:"1.4.27",depth:2,path:"C-28-golang-web-socket.md",ref:"C-28-golang-web-socket.md",articles:[]},{title:"C.29. Protobuf",level:"1.4.28",depth:2,path:"C-29-golang-protobuf-implementation.md",ref:"C-29-golang-protobuf-implementation.md",articles:[]},{title:"C.30. gRPC + Protobuf",level:"1.4.29",depth:2,path:"C-30-golang-grpc-protobuf.md",ref:"C-30-golang-grpc-protobuf.md",articles:[]},{title:"C.31. Context: Value, Timeout, & Cancellation",level:"1.4.30",depth:2,path:"C-31-golang-context.md",ref:"C-31-golang-context.md",articles:[]},{title:"C.32. JSON Web Token (JWT)",level:"1.4.31",depth:2,path:"C-32-golang-jwt.md",ref:"C-32-golang-jwt.md",articles:[]}]},dir:"ltr"},config:{plugins:["ga","html-minifier","disqus","meta","sitemap","scripts"],styles:{website:"styles/website.css"},pluginsConfig:{disqus:{useIdentifier:!1,shortName:"dasarpemrogramangolang"},meta:{content:"",data:[{name:"google-site-verification",content:"UZnxS2Dk3fm2_Elms3a__56Q_oQ3sQ1h0SVXXlHSmbE"},{name:"og:image",content:"https://dasarpemrogramangolang.novalagung.com/images/cover_fb_share.jpg"},{name:"twitter:image",content:"https://dasarpemrogramangolang.novalagung.com/images/cover_fb_share.jpg"}],name:""},scripts:{files:[]},search:{},"html-minifier":{customAttrSurround:[],removeScriptTypeAttributes:!1,removeEmptyAttributes:!1,removeRedundantAttributes:!1,removeEmptyElements:!0,sortClassName:!0,caseSensitive:!0,html5:!0,collapseWhitespace:!0,processConditionalComments:!1,quoteCharacter:null,keepClosingSlash:!0,preventAttributesEscaping:!1,minifyURLs:!1,removeAttributeQuotes:!1,decodeEntities:!1,trimCustomFragments:!1,customAttrAssign:[],includeAutoGeneratedTags:!0,collapseInlineTagWhitespace:!1,collapseBooleanAttributes:!0,minifyJS:!0,removeTagWhitespace:!0,preserveLineBreaks:!1,sortAttributes:!0,removeStyleLinkTypeAttributes:!1,removeComments:!0,minifyCSS:!0,processScripts:[],conservativeCollapse:!1,removeOptionalTags:!1,useShortDoctype:!1},lunr:{maxIndexSize:1e6,ignoreSpecialCharacters:!1},fontsettings:{theme:"white",family:"sans",size:2},highlight:{},sitemap:{hostname:"https://dasarpemrogramangolang.novalagung.com/"},ga:{configuration:"auto",token:"UA-27602984-29"},sharing:{facebook:!0,twitter:!0,google:!1,weibo:!1,instapaper:!1,vk:!1,all:["facebook","google","twitter","weibo","instapaper"]},"theme-default":{styles:{website:"styles/website.css",pdf:"styles/pdf.css",epub:"styles/epub.css",mobi:"styles/mobi.css",ebook:"styles/ebook.css",print:"styles/print.css"},showLevel:!1}},theme:"default",lunr:{maxIndexSize:1e9},pdf:{pageNumbers:!0,fontSize:12,fontFamily:"Arial",paperSize:"a4",chapterMark:"pagebreak",pageBreaksBefore:"/",margin:{right:62,left:62,top:56,bottom:56}},structure:{langs:"LANGS.md",readme:"README.md",glossary:"GLOSSARY.md",summary:"SUMMARY.md"},variables:{},gitbook:"*"},file:{path:"C-1-echo-routing.md",mtime:"2018-12-06T14:44:08.857Z",type:"markdown"},gitbook:{version:"3.2.3",time:"2018-12-07T00:59:33.615Z"},basePath:".",book:{language:""}})})</script></div><script src="gitbook/gitbook.js"></script><script src="gitbook/theme.js"></script><script src="gitbook/gitbook-plugin-ga/plugin.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/URI.js/1.16.1/URI.min.js"></script><script src="gitbook/gitbook-plugin-disqus/plugin.js"></script><script src="gitbook/gitbook-plugin-search/search-engine.js"></script><script src="gitbook/gitbook-plugin-search/search.js"></script><script src="gitbook/gitbook-plugin-lunr/lunr.min.js"></script><script src="gitbook/gitbook-plugin-lunr/search-lunr.js"></script><script src="gitbook/gitbook-plugin-sharing/buttons.js"></script><script src="gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script></body></html>